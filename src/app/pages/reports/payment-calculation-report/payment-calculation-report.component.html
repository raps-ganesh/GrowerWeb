<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
  <!--begin::Toolbar container-->
  <div id="kt_app_toolbar_container" class="d-flex flex-stack">
    <!--begin::Page title-->
    <div
      class="page-title d-flex flex-column justify-content-center flex-wrap me-3"
    >
      <!--begin::Title-->
      <h1
        class="page-heading d-flex text-white fw-bold fs-3 flex-column justify-content-center my-0"
      >
        {{ title }} Payment Statement
      </h1>
      <!--end::Title-->
    </div>
    <!--end::Page title-->
  </div>
  <!--end::Toolbar container-->
</div>
<div id="kt_app_content" class="flex-column-fluid">
  <div class="app-container" id="kt_app_content_container">
    <div class="card">
      <div class="card-header border-0 pt-6">
        <!--begin::Card title-->
        <div class="card-title">
          <!--begin::Search-->

          <!--end::Search-->
        </div>
        <!--begin::Card title-->
        <!--begin::Card toolbar-->
        <div class="card-toolbar">
          <!--begin::Toolbar-->
          <div
            class="d-flex justify-content-end"
            data-kt-user-table-toolbar="base"
          >
            <!--begin::Export-->
            <!-- <a
              type="button"
              class="btn btn-light-primary me-3"
              data-bs-toggle="modal"
              data-bs-target="#kt_modal_export_users"
              href="http://ussacgptsapp:5000/274174243680.PDF"
              target="_blank"
            > -->
            <!--begin::Svg Icon | path: icons/duotune/arrows/arr078.svg-->
            <!-- <span class="svg-icon svg-icon-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 48 48"
              >
                <g display="none">
                  <rect
                    width="48"
                    height="48"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    x="-46.987"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    x="-102.987"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    y="57.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    x="-46.987"
                    y="57.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    x="-102.987"
                    y="57.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    y="117.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    x="-46.987"
                    y="117.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    x="-102.987"
                    y="117.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    y="173.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    x="-46.987"
                    y="173.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    x="-102.987"
                    y="173.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    y="231.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                  <rect
                    style="isolation: auto; mix-blend-mode: normal"
                    width="48"
                    height="48"
                    x="-46.987"
                    y="231.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                  />
                  <rect
                    width="48"
                    height="48"
                    x="-102.987"
                    y="231.592"
                    fill="#fff"
                    color="#000"
                    overflow="visible"
                    style="isolation: auto; mix-blend-mode: normal"
                  />
                </g>
                <g transform="translate(-123 -1260.362)">
                  <path
                    fill="#242730"
                    style="
                      line-height: normal;
                      text-indent: 0;
                      text-align: start;
                      text-decoration-line: none;
                      text-decoration-style: solid;
                      text-decoration-color: #000;
                      text-transform: none;

                      isolation: auto;
                      mix-blend-mode: normal;
                    "
                    d="m 149,1262.3622 c -0.554,0 -1,0.446 -1,1 l 0,1 c 0,0.554 0.446,1 1,1 l 10.0039,0 0.016,6.4844 c 0,0.8253 0.6708,1.4938 1.4961,1.4961 l 6.4844,0.017 0,28.502 c 0,0.8569 -0.6431,1.5 -1.5,1.5 l -23,0 c -0.857,0 -1.5,-0.6431 -1.5,-1.5 l 0,-1.5 c 0,-0.554 -0.446,-1 -1,-1 l -1,0 c -0.554,0 -1,0.446 -1,1 l 0,1.5 c 0,2.4671 2.0329,4.5 4.5,4.5 l 23,0 c 2.467,0 4.5,-2.0329 4.5,-4.5 l 0,-30.4863 c -1e-4,-0.3978 -0.1582,-0.7793 -0.4395,-1.0606 l -7.5137,-7.5136 c -0.2812,-0.2814 -0.6627,-0.4394 -1.0605,-0.4395 z m -11,21 c 0,0.554 0.446,1 1,1 l 1,0 c 0.554,0 1,-0.446 1,-1 l 0,-10 c 0,-0.554 -0.446,-1 -1,-1 l -1,0 c -0.554,0 -1,0.446 -1,1 z"
                    color="#000"
                    font-family="sans-serif"
                    font-weight="400"
                    overflow="visible"
                  />
                  <path
                    fill="#11c111"
                    style="
                      line-height: normal;
                      text-indent: 0;
                      text-align: start;
                      text-decoration-line: none;
                      text-decoration-style: solid;
                      text-decoration-color: #000;
                      text-transform: none;

                      isolation: auto;
                      mix-blend-mode: normal;
                    "
                    d="m 142.5,258 c -2.467,0 -4.5,2.0329 -4.5,4.5 l 0,2.5 c 0,0.554 0.446,1 1,1 l 1,0 c 0.554,0 1,-0.446 1,-1 l 0,-2.5 c 0,-0.8569 0.6431,-1.5 1.5,-1.5 l 2.5,0 c 0.554,0 1,-0.446 1,-1 l 0,-1 c 0,-0.554 -0.446,-1 -1,-1 l -2.5,0 z M 127,282 c -1.10801,0 -2,0.892 -2,2 l 0,7 c 0,1.108 0.89199,2 2,2 l 25,0 c 1.10801,0 2,-0.892 2,-2 l 0,-7 c 0,-1.108 -0.89199,-2 -2,-2 l -25,0 z m 4.96484,2.74023 1.92969,0 c 1.53734,0 2.31055,0.60182 2.31055,1.72852 0,1.1936 -0.77321,1.82422 -2.31055,1.82422 l -0.79297,0 0,0.95312 0.46875,0 c 0.38195,0 0.57227,0.12396 0.57227,0.50586 0,0.382 -0.19032,0.51563 -0.57227,0.51563 l -1.60547,0 c -0.38195,0 -0.57226,-0.13363 -0.57226,-0.51563 0,-0.3246 0.18098,-0.50586 0.49609,-0.50586 l 0.0762,0 0,-3.47461 -0.0664,0 c -0.32466,0 -0.50586,-0.18142 -0.50586,-0.51562 0,-0.3724 0.19031,-0.51563 0.57226,-0.51563 z m 5.54493,0 0.87695,0 0.27734,0 c 0.88803,0 1.62435,0.02 2.19727,0.36329 0.73525,0.4488 1.16406,1.28888 1.16406,2.39648 0,1.1554 -0.48762,2.04312 -1.31836,2.48242 -0.48699,0.2674 -1.08832,0.28516 -1.79492,0.28516 l -0.52539,0 -0.87695,0 c -0.3915,0 -0.5918,-0.12413 -0.5918,-0.51563 0,-0.3342 0.18141,-0.50586 0.51562,-0.50586 l 0.0762,0 0,-3.47461 -0.0762,0 c -0.33421,0 -0.51562,-0.18142 -0.51562,-0.51562 0,-0.382 0.19075,-0.51563 0.5918,-0.51563 z m 5.79101,0 3.82031,0 c 0.39148,0 0.48633,0.095 0.48633,0.42969 l 0,1.04102 c 0,0.4011 -0.13346,0.59179 -0.50586,0.59179 -0.38195,0 -0.49609,-0.20029 -0.49609,-0.59179 l 0,-0.48828 -2.16797,0 0,1.19336 0.81055,0 0,-0.0566 c 0,-0.3533 0.1634,-0.5254 0.47851,-0.5254 0.3533,0 0.47656,0.19249 0.47656,0.58399 l 0,0.96289 c 0,0.3915 -0.12326,0.58398 -0.47656,0.58398 -0.31511,0 -0.47851,-0.16384 -0.47851,-0.49804 l 0,-0.0859 -0.81055,0 0,1.36523 0.25781,0 c 0.38194,0 0.57227,0.12396 0.57227,0.50586 0,0.382 -0.19033,0.51563 -0.57227,0.51563 l -1.39453,0 c -0.38195,0 -0.57226,-0.13363 -0.57226,-0.51563 0,-0.3246 0.18099,-0.50586 0.49609,-0.50586 l 0.0762,0 0,-3.47461 -0.0664,0 c -0.32466,0 -0.50586,-0.18142 -0.50586,-0.51562 0,-0.3724 0.19031,-0.51563 0.57226,-0.51563 z m -4.3125,1.00196 c -0.0859,0 -0.17989,-4.4e-4 -0.27539,0.01 l 0,3.48438 c 0.0955,0.01 0.18168,0.01 0.26758,0.01 1.16494,0 1.70898,-0.55276 1.70898,-1.75586 0,-1.1745 -0.55532,-1.74804 -1.70117,-1.74804 z m -5.88672,0.0664 0,1.4336 0.65821,0 c 0.73525,0 1.10937,-0.25867 1.10937,-0.72657 0,-0.4679 -0.37412,-0.70703 -1.10937,-0.70703 l -0.65821,0 z"
                    color="#000"
                    font-family="sans-serif"
                    font-weight="400"
                    overflow="visible"
                    transform="translate(0 1004.362)"
                  />
                </g>
              </svg>
            </span> -->
            <!--end::Svg Icon-->
            <!-- </a> -->
            <!--end::Export-->
            <!--begin::Search-->
            <div class="d-flex align-items-center position-relative me-3">
              <!-- <select
                  [(ngModel)]="cropyear"
                  name="cropyear"
                  class="form-select form-select-solid select2-selection select2-selection--single form-select"
                >
                  <option selected value="0">Select Crop Year</option>
                  <option value="2022">2022</option>
                  <option value="2021">2021</option>
                  <option value="2020">2020</option>
                  <option value="2019">2019</option>
                  <option value="2018">2018</option>
                </select> -->
              <select
                [(ngModel)]="cropyear"
                name="cropyear"
                class="form-select form-select-solid select2-selection select2-selection--single form-select"
                (change)="GetBatches()"
              >
                <option selected value="">Select Crop Year</option>
                <option *ngFor="let year of cropYears" [ngValue]="year">
                  {{ year }}
                </option>
              </select>
            </div>

            <div class="d-flex align-items-center position-relative me-3">
              <input
                required
                ngModel
                id="accountnumber"
                name="accountnumber"
                placeholder="Account Number"
                [(ngModel)]="accountnumber"
                [disabled]="isEnabled"
                class="form-control form-control-solid me-3"
                (change)="GetBatches()"
              />
            </div>

            <div class="d-flex align-items-center position-relative me-3">
              <!-- <input
                  required
                  ngModel
                  name="calculationbatchid"
                  placeholder="Calculation Batch Id"
                  [(ngModel)]="calculationbatchid"
                  class="form-control form-control-solid me-3"
                /> -->

              <select
                required
                name="calculationbatchid"
                [(ngModel)]="calculationbatchid"
                class="form-select form-select-solid select2-selection select2-selection--single form-select mb-2 min-w-250px"
                [hidden]="hideCalculationBatches"
              >
                <option selected value="0">Select Calculation Batch</option>
                <option
                  *ngFor="let summary of calculationbatches"
                  value="{{ summary.Id }}"
                >
                  {{ summary.Title }}
                </option>
                <!-- <option *ngFor="let suit of calculationbatches">{{suit}}</option> -->
              </select>
              <!-- <div>
                    <p>hiii</p>
                    <p *ngFor="let suit of calculationbatches">
                      {{suit.Title}}
                    </p>
                  </div> -->
            </div>
            <div
              class="d-flex align-items-center position-relative me-3"
              [hidden]="hideDeferralDate"
            >
              <input
                [(ngModel)]="deferralDate"
                bsDatepicker
                [bsConfig]="{
                  adaptivePosition: true,
                  isAnimated: true,
                  dateInputFormat: 'YYYY-MM-DD'
                }"
                type="text"
                class="form-control form-control-lg form-control-solid"
                placeholder="Deferral Date"
                name="DeferralDate"
                value=""
                placement="bottom"
              />
            </div>
            <!--end::Search-->

            <!--begin::Add user-->
            <button
              type="button"
              class="btn btn-primary me-3"
              data-bs-toggle="modal"
              data-bs-target="#kt_modal_add_user"
              style="height: 43px; cursor: pointer"
              (click)="GenerateReport()"
            >
              <!--begin::Svg Icon | path: icons/duotune/arrows/arr075.svg-->
              <!-- <span class="svg-icon svg-icon-2">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    opacity="0.5"
                    x="11.364"
                    y="20.364"
                    width="16"
                    height="2"
                    rx="1"
                    transform="rotate(-90 11.364 20.364)"
                    fill="currentColor"
                  ></rect>
                  <rect
                    x="4.36396"
                    y="11.364"
                    width="16"
                    height="2"
                    rx="1"
                    fill="currentColor"
                  ></rect>
                </svg>
              </span> -->
              <!--end::Svg Icon-->View Statement
            </button>
            <!--end::Add user-->
          </div>
          <!--end::Toolbar-->
        </div>
        <!--end::Card toolbar-->
      </div>
      <div class="card-body py-3" id="invoice" #invoice>
        <!-- begin::Table container -->
        <embed id="pdf" src="" width="100%" height="500px" />
        <!-- end::Table container -->
      </div>
    </div>
  </div>
</div>
